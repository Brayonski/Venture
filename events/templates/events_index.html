{% extends 'profile/base3.html' %}

{% load cms_tags staticfiles event_filters %}
{% block title %}Events{% endblock title %}
{% block content %}
<style>
  .open-button {
  background-color: #1ba4db;
  color: white;
  padding: 16px 20px;
  border: none;
  cursor: pointer;
  opacity: 0.8;
  position: fixed;
  bottom: 23px;
  right: 28px;
  width: 280px;
}
.open-button:hover {
  opacity: 1;
}
</style>
<div class="event_wrapper full_A">

  <nav id="navbar_out_2" class="navbar navbar-default_media">
    <div class="top_container container">

      <div id="navbarX" class="navbarX1 nav_nav_second navbar-collapse collapse nav-down">
        {% url 'events_home' as  events_home %}
        <ul class="event_titles">
          <li class="active e-title_1">
            <h1>Events</h1>
          </li>
        </ul>

      </div>

    </div>
  </nav>

  <div class="container">
<<<<<<< HEAD
=======

>>>>>>> 76b2856283de59a89d49a1e79da5d16d2bb02b05
    <div class="page_with_2_sections_e row clearfix">
      <div class="col-md-3 clearfix s_e_sidebar">
        <div class="s_e_1 s_e_in">
          <div class="list_box list-group">
            <a href="{% url 'events_home' %}" class="list_title list-group-item">
              VLA Events
            </a>
            {% if object_list %}
            <a class="list-group-item {% ifequal request.path events_home %}active{% endifequal %}"
              href="{% url 'events_home' %}">All</a>
            {% endif %}

            {% for type in event_type %}
<<<<<<< HEAD
            {% if type.events_set.count >= 1 %}
            {% url 'event_view_content_filter' type.id as event_view_content_filter %}
            <a class="list-group-item {% ifequal request.path event_view_content_filter %}active{% endifequal %}"
              href="{% url 'event_view_content_filter' type.id %}">{{type.title}}
            </a>
            {% endif %}
            {% endfor %}
=======
              {% if type.events_set.count >= 1 %}
              {% url 'event_view_content_filter' type.id as event_view_content_filter %}
              <a class="list-group-item {% ifequal request.path event_view_content_filter %}active{% endifequal %}" href="{% url 'event_view_content_filter' type.id %}">{{type.title}}
              </a>
              {% endif %}
            {% endfor %}  
          </div>

          <div class="list_box list-group">
>>>>>>> 76b2856283de59a89d49a1e79da5d16d2bb02b05
            <a href="{% url 'network_events' %}" class="list_title list-group-item">
              Member Events
            </a>

            {% if object_list %}
            <a class="list-group-item {% ifequal request.path network_events %}active{% endifequal %}"
              href="{% url 'network_events' %}">All</a>
            {% endif %}
            {% for type in event_type %}
            {% if type.network_events.count >= 1 %}
            {% url 'network_event_filter' type.id as network_event_filter %}
            <a class="list-group-item {% ifequal request.path network_event_filter %}active{% endifequal %}"
              href="{% url 'network_event_filter' type.id %}">{{type.title}}</a>
            {% endif %}
            {% endfor %}
          </div>
        </div>
      </div>
      <div class="col-md-9 clearfix s_e_sidebar">
        <div class="s_e_2 s_e_in">
          <div class="s_e_table">
            <table class="table">
              <tbody>
                {% for obj in object_list %}
                {% if obj.published %}
                <tr>
                  <td class="e1">
                    <p style="max-width:100px;">{{obj.start_date }} &mdash; {{obj.end_date }}</p>
                  </td>
                  <td class="e2">
                    <a href="{% url 'event_view_content' obj.id %}">
                      <h2 class="event_title">{{ obj.title }}</h2>
                      <p>{{obj.category}} in {{obj.location }}</p>
                    </a>
                  </td>
                  <td class="e3">
                    {% is_attendee obj as is_in_attendee_list %}
                    {% if is_in_attendee_list == True %}
                    <a class="btn btn-primary" href="{% url 'event_register' obj.id %}">
                      <ion-icon name="add"></ion-icon> Register
                    </a>
                    {% else %}
                    <a class="btn btn-success" href="#">
                      <ion-icon name="checkmark"></ion-icon> Registered
                    </a>
                    {% endif %}
                  </td>
                </tr>
                {% endif %}
                {% endfor %}
              </tbody>
            </table>
          </div>
          <div class="pagination pag_wrapper">
            {% if is_paginated %}
            <ul class="pagination">
              {% if page_obj.has_previous %}
              <li><a href="?page={{ page_obj.previous_page_number }}">&laquo;</a></li>
              {% else %}
              <li class="disabled"><span>&laquo;</span></li>
              {% endif %}
              {% for i in paginator.page_range %}
              {% if page_obj.number == i %}
              <li class="active"><span>{{ i }} <span class="sr-only">(current)</span></span></li>
              {% else %}
              <li><a href="?page={{ i }}">{{ i }}</a></li>
              {% endif %}
              {% endfor %}
              {% if page_obj.has_next %}
              <li><a href="?page={{ page_obj.next_page_number }}">&raquo;</a></li>
              {% else %}
              <li class="disabled"><span>&raquo;</span></li>
              {% endif %}
            </ul>
            {% endif %}
          </div>
        </div>
      </div>
    </div>
<<<<<<< HEAD
=======
      -->
    <button class="open-button">To upload events on venturelift, please contact the admin</button>
>>>>>>> 76b2856283de59a89d49a1e79da5d16d2bb02b05
  </div>
</div>
<p id="network-events-notice"></p>
{% endblock %}

{% block javascript %}
<script>
  $(document).ready(function () {

    var show_toast = show_random_toast(true);
  });

  function show_random_toast(pause_on_hover) {
    let type = "success",
      title = "Network Managed Events",
      content = "To post your event. Please Contact admin@vla.com";

    $.toast({
      title: title,
      subtitle: '+',
      content: content,
      type: type,
      pause_on_hover: pause_on_hover,
      delay: 5000
    });
  }
</script>
{% endblock %}